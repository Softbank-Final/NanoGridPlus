spring:
  application:
    name: NanoGridPlus

# Server 설정
server:
  port: 8080

# Agent 통합 설정
agent:
  # AWS 설정
  aws:
    region: ap-northeast-2

  # SQS 설정
  sqs:
    queueUrl: https://sqs.ap-northeast-2.amazonaws.com/769213334367/nanogrid-task-queue
    # ↑ B팀 제공 SQS 큐 URL (작업 메시지 수신용)
    waitTimeSeconds: 20
    maxNumberOfMessages: 10

  # S3 설정
  s3:
    codeBucket: nanogrid-code-bucket
    # ↑ 함수 코드 zip 파일이 저장된 S3 버킷

  # Docker 설정
  docker:
    pythonImage: python-base
    cppImage: gcc-base
    workDirRoot: /workspace-root
    defaultTimeoutMs: 10000

  # Warm Pool 설정
  warmPool:
    enabled: true
    pythonSize: 2
    cppSize: 1

  # Polling 설정
  polling:
    enabled: true
    fixedDelayMillis: 1000

  # Redis 설정 (향후 사용)
  redis:
    host: nanogrid-redis.p29xhw.0001.apn2.cache.amazonaws.com
    port: 6379
    password: ""
    resultPrefix: "result:"

  # 작업 디렉터리
  taskBaseDir: /tmp/task

  # Output Binding 설정 (파일 자동 업로드)
  output:
    enabled: true
    baseDir: /tmp/output       # 호스트의 output 디렉터리
    s3Prefix: outputs          # S3에 업로드될 때 경로 (예: outputs/{requestId}/file.png)

# Logging 설정
logging:
  level:
    org.brown.nanogridplus: INFO
    com.github.dockerjava: WARN
  pattern:
    console: "%d{HH:mm:ss.SSS} [%thread] %-5level [requestId=%X{requestId}] %logger{36} - %msg%n"


